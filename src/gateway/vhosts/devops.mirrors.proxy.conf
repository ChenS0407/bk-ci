
  	# 直接放回404
	location =/ {
		return 404;
	}

  	# maven
	location ~ ^/maven/(.*) {
		set $subPath $1;
		proxy_set_header Host "mirrors.artifactory.oa.com";
		proxy_set_header X-Real-IP $remote_addr;
		proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
		proxy_set_header Cookie $http_cookie;

		proxy_http_version 1.1;
		
		# 反向代理到目标ip，端口，路径和参数
		proxy_pass http://mirrors.artifactory.oa.com/maven/$subPath?$args;
	}

	# maven-snapshots
	location ~ ^/maven-snapshots/(.*) {
		set $subPath $1;
		proxy_set_header Host "mirrors.artifactory.oa.com";
		proxy_set_header X-Real-IP $remote_addr;
		proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
		proxy_set_header Cookie $http_cookie;

		proxy_http_version 1.1;
		
		# 反向代理到目标ip，端口，路径和参数
		proxy_pass http://mirrors.artifactory.oa.com/maven-snapshots/$subPath?$args;
	}

	# npm
	location ~ ^/npm/(.*) {
		set $subPath $1;
		proxy_set_header Host "mirrors.artifactory.oa.com";
		proxy_set_header X-Real-IP $remote_addr;
		proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
		proxy_set_header Cookie $http_cookie;

		proxy_http_version 1.1;
		
		# 反向代理到目标ip，端口，路径和参数
		proxy_pass http://mirrors.artifactory.oa.com/api/npm/npm/$subPath?$args;
	}

	# Pypi
	location ~ ^/pypi/(.*) {
		set $subPath $1;
		proxy_set_header Host "mirrors.artifactory.oa.com";
		proxy_set_header X-Real-IP $remote_addr;
		proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
		proxy_set_header Cookie $http_cookie;

		proxy_http_version 1.1;
		
		# 反向代理到目标ip，端口，路径和参数
		proxy_pass  http://mirrors.artifactory.oa.com/api/pypi/pypi/$subPath?$args;
	}

	# HomeBrew
	location ~ ^/homebrew/(.*) {
		set $subPath $1;
		proxy_set_header Host "mirrors.artifactory.oa.com";
		proxy_set_header X-Real-IP $remote_addr;
		proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
		proxy_set_header Cookie $http_cookie;

		proxy_http_version 1.1;
		
		# 反向代理到目标ip，端口，路径和参数
		proxy_pass http://mirrors.artifactory.oa.com/homebrew/$subPath?$args;
	}

	# brew.git
	location ~ ^/brew.git/(.*) {
		set $subPath $1;
		proxy_set_header Host "mirrors.artifactory.oa.com";
		proxy_set_header X-Real-IP $remote_addr;
		proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
		proxy_set_header Cookie $http_cookie;

		proxy_http_version 1.1;
		
		# 反向代理到目标ip，端口，路径和参数
		proxy_pass http://mirrors.artifactory.oa.com/brew/$subPath?$args;
	}

	# brew-core.git
	location ~ ^/brew-core.git/(.*) {
		set $subPath $1;
		proxy_set_header Host "mirrors.artifactory.oa.com";
		proxy_set_header X-Real-IP $remote_addr;
		proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
		proxy_set_header Cookie $http_cookie;

		proxy_http_version 1.1;
		
		# 反向代理到目标ip，端口，路径和参数
		proxy_pass http://mirrors.artifactory.oa.com/brew-core/$subPath?$args;
	}

	# rpm
	location ~ ^/rpm/(.*) {
		set $subPath $1;
		proxy_set_header Host "mirrors.artifactory.oa.com";
		proxy_set_header X-Real-IP $remote_addr;
		proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
		proxy_set_header Cookie $http_cookie;

		proxy_http_version 1.1;
		
		# 反向代理到目标ip，端口，路径和参数
		proxy_pass   http://mirrors.artifactory.oa.com/rpm/$subPath?$args;
	}

	# rpm-epel
	location ~ ^/rpm-epel/(.*) {
		set $subPath $1;
		proxy_set_header Host "mirrors.artifactory.oa.com";
		proxy_set_header X-Real-IP $remote_addr;
		proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
		proxy_set_header Cookie $http_cookie;

		proxy_http_version 1.1;
		
		# 反向代理到目标ip，端口，路径和参数
		proxy_pass   http://mirrors.artifactory.oa.com/rpm-epel/$subPath?$args;
	}

	# rpm-svn
	location ~ ^/rpm-svn/(.*) {
		set $subPath $1;
		proxy_set_header Host "mirrors.artifactory.oa.com";

		proxy_set_header X-Real-IP $remote_addr;
		proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
		proxy_set_header Cookie $http_cookie;

		proxy_http_version 1.1;
		
		# 反向代理到目标ip，端口，路径和参数
		proxy_pass   http://mirrors.artifactory.oa.com/rpm-svn/$subPath?$args;
	}

	# composer
	location ~ ^/composer/(.*) {
		set $subPath $1;
		proxy_set_header Host "mirrors.artifactory.oa.com";

		proxy_set_header X-Real-IP $remote_addr;
		proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
		proxy_set_header Cookie $http_cookie;

		proxy_http_version 1.1;
		
		# 反向代理到目标ip，端口，路径和参数
		proxy_pass   http://mirrors.artifactory.oa.com/api/composer/composer/$subPath?$args;
	}

	# maven-iyunwei
	location ~ ^/maven-iyunwei/(.*) {
		set $subPath $1;
		proxy_set_header Host "mirrors.artifactory.oa.com";

		proxy_set_header X-Real-IP $remote_addr;
		proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
		proxy_set_header Cookie $http_cookie;

		proxy_http_version 1.1;
		
		# 反向代理到目标ip，端口，路径和参数
		proxy_pass   http://mirrors.artifactory.oa.com/maven-iyunwei/$subPath?$args;
	}

	# maven-nfvc
	location ~ ^/maven-nfvc/(.*) {
		set $subPath $1;
		proxy_set_header Host "mirrors.artifactory.oa.com";

		proxy_set_header X-Real-IP $remote_addr;
		proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
		proxy_set_header Cookie $http_cookie;

		proxy_http_version 1.1;
		
		# 反向代理到目标ip，端口，路径和参数
		proxy_pass   http://mirrors.artifactory.oa.com/maven-nfvc/$subPath?$args;
	}

	# maven-nfvc-snapshots
	location ~ ^/maven-nfvc-snapshots/(.*) {
		set $subPath $1;
		proxy_set_header Host "mirrors.artifactory.oa.com";

		proxy_set_header X-Real-IP $remote_addr;
		proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
		proxy_set_header Cookie $http_cookie;

		proxy_http_version 1.1;
		
		# 反向代理到目标ip，端口，路径和参数
		proxy_pass   http://mirrors.artifactory.oa.com/maven-nfvc-snapshots/$subPath?$args;
	}

	# maven-local
	location ~ ^/maven-local/(.*) {
		set $subPath $1;
		proxy_set_header Host "mirrors.artifactory.oa.com";

		proxy_set_header X-Real-IP $remote_addr;
		proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
		proxy_set_header Cookie $http_cookie;

		proxy_http_version 1.1;
		
		# 反向代理到目标ip，端口，路径和参数
		proxy_pass   http://mirrors.artifactory.oa.com/$subPath?$args;
	}

	# maven-local
	location ~ ^/rpm-pcg/(.*) {
		set $subPath $1;
		proxy_set_header Host "mirrors.artifactory.oa.com";

		proxy_set_header X-Real-IP $remote_addr;
		proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
		proxy_set_header Cookie $http_cookie;

		proxy_http_version 1.1;
		
		# 反向代理到目标ip，端口，路径和参数
		proxy_pass   http://mirrors.artifactory.oa.com/rpm-pcg/$subPath?$args;
	}


	location ~ ^/(rpm-pcg|maven-local|maven-nfvc-snapshots|maven-nfvc|maven-iyunwei|composer|rpm-svn|rpm-epel|rpm|brew-core.git|brew.git|homebrew|pypi|npm|maven|maven-snapshots)$ {
		set $subPath $1;
		rewrite .* /$subPath/ redirect;
	}

